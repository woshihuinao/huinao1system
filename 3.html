<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>桌面</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #000;
            color: #fff;
            font-family: 'Microsoft YaHei', sans-serif;
            overflow: hidden;
            user-select: none;
        }
        
        .desktop {
            position: relative;
            height: calc(100vh - 40px);
            background-color: #000;
            background-image: url('');
            background-size: cover;
        }
        
        .desktop-icon {
            position: absolute;
            width: 80px;
            text-align: center;
            padding: 5px;
            cursor: pointer;
        }
        
        .desktop-icon img {
            width: 48px;
            height: 48px;
        }
        
        .desktop-icon span {
            display: block;
            margin-top: 5px;
            font-size: 12px;
            color: #fff;
            text-shadow: 1px 1px 2px #000;
        }
        
        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }
        
        .taskbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 40px;
            background-color: #1a1a1a;
            display: flex;
            align-items: center;
        }
        
        .start-button {
            height: 100%;
            padding: 0 15px;
            display: flex;
            align-items: center;
            background-color: #2a2a2a;
            cursor: pointer;
        }
        
        .start-button:hover {
            background-color: #3a3a3a;
        }
        
        .start-menu {
            position: absolute;
            bottom: 40px;
            left: 0;
            width: 300px;
            height: 400px;
            background-color: #2a2a2a;
            display: none;
            border-top-right-radius: 5px;
            box-shadow: 3px -3px 5px rgba(0, 0, 0, 0.3);
        }
        
        .window {
            position: absolute;
            width: 600px;
            background-color: #2a2a2a;
            border-radius: 5px;
            overflow: hidden;
            display: none;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .window-header {
            height: 30px;
            background-color: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            cursor: move;
        }
        
        .window-title {
            font-size: 14px;
        }
        
        .window-close {
            cursor: pointer;
        }
        
        .window-content {
            padding: 15px;
            height: calc(100% - 30px);
            overflow: auto;
        }
        
        .disk-info {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .disk-icon {
            font-size: 24px;
            margin-right: 10px;
        }
        
        .disk-progress {
            flex-grow: 1;
            height: 20px;
            background-color: #1a1a1a;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .disk-progress-bar {
            height: 100%;
            width: 85%;
            background-color: #4CAF50;
        }
        
        .disk-details {
            margin-left: 15px;
        }
        
        .test-version {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            color: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="desktop">
        <div class="test-version">由于是测试版本，只为演示</div>
        
        <!-- 桌面图标 -->
        <div class="desktop-icon" style="left: 20px; top: 20px;" onclick="openWindow('my-computer')">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQsMUEyLDIgMCAwLDAgMiwzdjE4YTIgMiAwIDAsMCAyLDJoMTZhMiAyIDAgMCwwIDItMlYzQTIsMiAwIDAsMCAyMCwxSDRNNCwzaDE2djE4SDRWMyIvPjwvc3ZnPg==" alt="此电脑">
            <span>此电脑</span>
        </div>
        
        <div class="desktop-icon" style="left: 20px; top: 100px;" onclick="playAudio()">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyLDIwQTgsOCAwIDAsMSA0LDEyQTgsOCAwIDAsMSAxMiw0QTgsOCAwIDAsMSAyMCwxMkE4LDggMCAwLDEgMTIsMjBNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJNMTAsMTYuNUwxNiwxMkwxMCw3LjVWMTYuNVoiIC8+PC9zdmc+" alt="会闹音乐">
            <span>会闹音乐</span>
        </div>
        
        <div class="desktop-icon" style="left: 20px; top: 180px;" onclick="playVideo()">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEwLDE2LjVMMTYsMTJMMTAsNy41VjE2LjVNMjAsNEg0QTIgMiAwIDAsMCAyLDZWMThBMiAyIDAgMCwwIDQsMjBIMjBBMiwyIDAgMCwwIDIyLDE4VjZBMiwyIDAgMCwwIDIwLDRNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJaIiAvPjwvc3ZnPg==" alt="会闹视频">
            <span>会闹视频</span>
        </div>
        
        <!-- 音频元素 -->
        <audio id="audio-player" src="默认播放音乐.mp3"></audio>
        
        <!-- 视频元素 -->
        <video id="video-player" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); max-width:80%; max-height:80%; z-index:1000;" controls>
            <source src="默认播放视频.mp4" type="video/mp4">
            您的浏览器不支持视频播放
        </video>
        
        <!-- 窗口 -->
        <div id="my-computer" class="window" style="width: 500px; height: 400px; left: 100px; top: 50px;">
            <div class="window-header">
                <div class="window-title">此电脑</div>
                <div class="window-close" onclick="closeWindow('my-computer')">×</div>
            </div>
            <div class="window-content">
                <div class="disk-info">
                    <div class="disk-icon">💽</div>
                    <div class="disk-progress">
                        <div class="disk-progress-bar"></div>
                    </div>
                    <div class="disk-details">
                        <div>本地磁盘 (C:)</div>
                        <div>999GB 可用，共 999GB</div>
                    </div>
                </div>
                <div class="disk-info">
                    <div class="disk-icon">💽</div>
                    <div class="disk-progress">
                        <div class="disk-progress-bar" style="width: 0%"></div>
                    </div>
                    <div class="disk-details">
                        <div>本地磁盘 (D:)</div>
                        <div>0GB 可用，共 0GB</div>
                    </div>
                </div>
                <button onclick="createPartition()" style="margin-top: 20px; padding: 5px 10px; background-color: #4CAF50; border: none; color: white; border-radius: 3px; cursor: pointer;">分盘</button>
            </div>
        </div>
    </div>
    
    <div class="taskbar">
        <div class="start-button" onclick="toggleStartMenu()">
            <span>开始</span>
        </div>
        <div class="start-menu" id="start-menu">
            <!-- 开始菜单内容 -->
        </div>
    </div>
    
    <script>
        // 打开窗口
        function openWindow(windowId) {
            document.getElementById(windowId).style.display = 'block';
        }
        
        // 关闭窗口
        function closeWindow(windowId) {
            document.getElementById(windowId).style.display = 'none';
        }
        
        // 切换开始菜单
        function toggleStartMenu() {
            const menu = document.getElementById('start-menu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }
        
        // 点击其他地方关闭开始菜单
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.start-button') && !e.target.closest('.start-menu')) {
                document.getElementById('start-menu').style.display = 'none';
            }
        });
        
        // 播放音频
        function playAudio() {
            const audio = document.getElementById('audio-player');
            if (audio.paused) {
                audio.play().catch(e => alert('无法播放音频: ' + e.message));
            } else {
                audio.pause();
            }
        }
        
        // 播放视频
        function playVideo() {
            const video = document.getElementById('video-player');
            video.style.display = 'block';
            video.play().catch(e => alert('无法播放视频: ' + e.message));
            
            // 点击视频外部关闭
            video.onclick = function(e) {
                if (e.target === video) {
                    video.pause();
                    video.style.display = 'none';
                }
            };
        }
        
        // 分盘功能
        function createPartition() {
            const dDisk = document.querySelectorAll('.disk-progress-bar')[1];
            const dDetails = document.querySelectorAll('.disk-details')[1];
            
            if (dDisk.style.width === '0%') {
                dDisk.style.width = '50%';
                dDetails.innerHTML = '<div>本地磁盘 (D:)</div><div>500GB 可用，共 500GB</div>';
                alert('已成功创建D盘分区 (500GB)');
            } else {
                alert('D盘分区已存在');
            }
        }
        
        // 窗口拖动功能
        const windows = document.querySelectorAll('.window');
        windows.forEach(window => {
            const header = window.querySelector('.window-header');
            let isDragging = false;
            let offsetX, offsetY;
            
            header.addEventListener('mousedown', (e) => {
                isDragging = true;
                offsetX = e.clientX - window.getBoundingClientRect().left;
                offsetY = e.clientY - window.getBoundingClientRect().top;
                window.style.zIndex = 1000;
            });
            
            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                
                window.style.left = (e.clientX - offsetX) + 'px';
                window.style.top = (e.clientY - offsetY) + 'px';
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        });
    </script>
</body>
</html>
